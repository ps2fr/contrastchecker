<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free WCAG 2.1 Contrast Checker - Test color contrast ratios for accessibility compliance. Check AA and AAA standards with live preview, RGB/HSL controls, and hex color editor.">
    <meta name="keywords" content="contrast checker, WCAG, accessibility, color contrast, AA compliance, AAA compliance, hex color, RGB, HSL, color picker, web accessibility, contrast ratio, ADA compliance, color accessibility">
    <meta name="author" content="Contrast Checker Tool">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="WCAG Contrast Checker - Test Color Accessibility">
    <meta property="og:description" content="Professional contrast checker tool for web accessibility. Check WCAG AA/AAA compliance with live preview.">
    <meta property="og:url" content="">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WCAG Contrast Checker - Test Color Accessibility">
    <meta name="twitter:description" content="Professional contrast checker tool for web accessibility. Check WCAG AA/AAA compliance with live preview.">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#667eea">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23764ba2;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' rx='20' fill='url(%23grad)'/%3E%3Ctext x='50' y='70' font-family='Arial,sans-serif' font-size='60' font-weight='bold' fill='white' text-anchor='middle'%3EA%3C/text%3E%3C/svg%3E">
    
    <title>Contrast Checker - WCAG 2.1 Accessibility Tool</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #fafafa;
            --card: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #666666;
            --text-tertiary: #999999;
            --border: #e5e5e5;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.04);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
        }

        body {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 0;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Header */
        .header {
            background: var(--card);
            border-bottom: 1px solid var(--border);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--text-primary);
        }

        .header-center {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex: 1;
            flex-wrap: wrap;
        }

        .ratio-display {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .ratio-value {
            font-size: 2rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .ratio-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 600;
        }

        .compliance-badges {
            display: flex;
            gap: 0.5rem;
        }

        .badge-mini {
            padding: 0.4rem 0.75rem;
            border-radius: var(--radius-sm);
            font-size: 0.7rem;
            font-weight: 700;
            border: 2px solid;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.2s;
        }

        .badge-mini.pass {
            background: rgba(34, 197, 94, 0.1);
            border-color: var(--success);
            color: var(--success);
        }

        .badge-mini.fail {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--danger);
            color: var(--danger);
        }

        .shortcuts {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .shortcut-badge {
            background: var(--bg);
            padding: 0.5rem 0.75rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .kbd {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.75rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .btn-copy-ratio {
            background: var(--text-primary);
            color: white;
            border: none;
            padding: 0.625rem 1.125rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-copy-ratio:hover {
            background: #000;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-copy-ratio:active {
            transform: translateY(0);
        }

        .btn-copy-ratio svg {
            width: 16px;
            height: 16px;
            stroke-width: 2;
        }

        /* Main Layout - Card Based */
        .main-content {
            padding: 2rem 0;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 500px), 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        /* Color Card */
        .color-card {
            background: var(--card);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
        }

        .color-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .color-display {
            padding: 3rem 2rem;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .color-card-content {
            padding: 2rem;
            background: var(--card);
            border-top: 1px solid var(--border);
        }

        .color-panel-content {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .color-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 700;
            opacity: 0.6;
            margin-bottom: 1rem;
        }

        /* Editable Hex Display */
        .hex-input-wrapper {
            position: relative;
            margin-bottom: 2rem;
        }

        .hex-input {
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            background: transparent;
            border: 2px solid transparent;
            border-radius: var(--radius-sm);
            padding: 0.75rem 1rem;
            width: 100%;
            font-family: 'Manrope', monospace;
            transition: all 0.2s;
            text-transform: uppercase;
            text-align: center;
        }

        .hex-input:hover {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .hex-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.1);
        }

        .hex-input.error {
            border-color: var(--danger);
            animation: shake 0.3s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .hex-hint {
            font-size: 0.7rem;
            color: inherit;
            opacity: 0.5;
            margin-top: 0.75rem;
            text-align: center;
        }

        /* Color Controls */
        .color-controls {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            margin-bottom: 2rem;
        }

        .control-tabs {
            display: flex;
            gap: 0.5rem;
            padding: 0.375rem 0;
        }

        .control-tab {
            flex: 1;
            padding: 0.625rem 1rem;
            border: 1.5px solid var(--border);
            background: var(--card);
            color: var(--text-secondary);
            font-weight: 700;
            font-size: 0.8rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s;
            letter-spacing: 0.02em;
        }

        .control-tab:hover {
            color: var(--text-primary);
            border-color: var(--text-secondary);
            background: var(--card);
        }

        .control-tab.active {
            background: var(--text-primary);
            color: white;
            border-color: var(--text-primary);
            box-shadow: var(--shadow-md);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .slider-group {
            display: flex;
            flex-direction: column;
            gap: 0.625rem;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            font-weight: 600;
            opacity: 0.7;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
            background: linear-gradient(to right, #e5e5e5 0%, #d1d1d1 100%);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        /* Red slider gradient */
        #fg-r, #bg-r {
            background: linear-gradient(to right, #000000 0%, #ff0000 100%);
        }

        /* Green slider gradient */
        #fg-g, #bg-g {
            background: linear-gradient(to right, #000000 0%, #00ff00 100%);
        }

        /* Blue slider gradient */
        #fg-b, #bg-b {
            background: linear-gradient(to right, #000000 0%, #0000ff 100%);
        }

        /* Hue slider gradient */
        #fg-h, #bg-h {
            background: linear-gradient(to right, 
                #ff0000 0%, 
                #ffff00 17%, 
                #00ff00 33%, 
                #00ffff 50%, 
                #0000ff 67%, 
                #ff00ff 83%, 
                #ff0000 100%
            );
        }

        /* Saturation slider gradient */
        #fg-s, #bg-s {
            background: linear-gradient(to right, #808080 0%, #ff0000 100%);
        }

        /* Lightness slider gradient */
        #fg-l, #bg-l {
            background: linear-gradient(to right, #000000 0%, #808080 50%, #ffffff 100%);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1);
            transition: all 0.2s;
            border: 2px solid var(--card);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(0,0,0,0.4), 0 0 0 2px rgba(0,0,0,0.15);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            border: 2px solid var(--card);
            box-shadow: 0 2px 8px rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }

        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(0,0,0,0.4), 0 0 0 2px rgba(0,0,0,0.15);
        }

        /* Action Buttons */
        .panel-actions {
            display: flex;
            gap: 1rem;
            width: 100%;
            margin-top: 1rem;
        }

        .btn-action {
            flex: 1;
            padding: 0.875rem 1.25rem;
            border: 1.5px solid var(--border);
            background: var(--card);
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.875rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-sm);
        }

        .btn-action:hover {
            background: var(--bg);
            border-color: var(--text-secondary);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-action:active {
            transform: translateY(0);
            box-shadow: var(--shadow-sm);
        }

        .btn-action svg {
            width: 16px;
            height: 16px;
            stroke-width: 2;
        }

        /* Preview Section */
        .preview-section {
            margin-bottom: 2rem;
        }

        .preview-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .preview-title {
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--text-primary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .preview-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn-preview-action {
            padding: 0.625rem 1rem;
            background: var(--card);
            border: 1.5px solid var(--border);
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.8rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-sm);
        }

        .btn-preview-action:hover {
            background: var(--bg);
            border-color: var(--text-secondary);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-preview-action svg {
            width: 14px;
            height: 14px;
            stroke-width: 2;
        }

        /* Print Styles */
        @media print {
            .header,
            .shortcuts,
            .color-card-content,
            .preview-actions,
            .copy-feedback {
                display: none !important;
            }

            body {
                background: white;
            }

            .preview-section {
                margin: 0;
                padding: 2rem;
            }

            .preview-card {
                page-break-inside: avoid;
                box-shadow: none;
                border: 2px solid var(--border);
            }
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 400px), 1fr));
            gap: 2rem;
        }

        .preview-card {
            border-radius: var(--radius-md);
            padding: 2.5rem;
            box-shadow: var(--shadow-md);
            transition: all 0.3s;
        }

        .preview-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .preview-text {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .preview-heading {
            font-size: 1.5rem;
            font-weight: 800;
            margin: 0;
            line-height: 1.3;
        }

        .preview-body {
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
        }

        .preview-small {
            font-size: 0.875rem;
            line-height: 1.6;
            margin: 0;
            opacity: 0.9;
        }

        /* Copy Feedback */
        .copy-feedback {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--text-primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            box-shadow: var(--shadow-lg);
            transform: translateY(120%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-feedback.show {
            transform: translateY(0);
        }

        .copy-feedback svg {
            width: 18px;
            height: 18px;
            stroke-width: 2.5;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .cards-grid {
                grid-template-columns: 1fr;
            }

            .header-center {
                order: 3;
                width: 100%;
                justify-content: space-between;
            }

            .compliance-badges {
                flex-wrap: wrap;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .header-content {
                gap: 1rem;
            }

            .logo {
                font-size: 1.125rem;
            }

            .ratio-value {
                font-size: 1.5rem;
            }

            .header-center {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }

            .ratio-display {
                justify-content: center;
            }

            .compliance-badges {
                justify-content: center;
            }

            .shortcuts {
                display: none;
            }

            .main-content {
                padding: 1.5rem 0;
            }

            .cards-grid {
                gap: 1.5rem;
            }

            .color-display {
                padding: 2.5rem 1.5rem;
                min-height: 240px;
            }

            .color-card-content {
                padding: 1.5rem;
            }

            .hex-input {
                font-size: 2rem;
            }

            .preview-section {
                margin-bottom: 1.5rem;
            }

            .preview-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .preview-actions {
                width: 100%;
            }

            .btn-preview-action {
                flex: 1;
            }

            .preview-grid {
                gap: 1.5rem;
                grid-template-columns: 1fr;
            }

            .preview-card {
                padding: 2rem;
            }

            .panel-actions {
                flex-direction: column;
            }

            .btn-action {
                width: 100%;
                padding: 1rem 1.25rem;
            }

            .btn-copy-ratio {
                padding: 0.75rem 1.125rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 0.75rem;
            }

            .header-content {
                flex-direction: column;
                align-items: stretch;
            }

            .logo {
                text-align: center;
            }

            .color-display {
                padding: 2rem 1rem;
                min-height: 200px;
            }

            .color-card-content {
                padding: 1.25rem;
            }

            .hex-input {
                font-size: 1.75rem;
            }

            .preview-card {
                padding: 1.5rem;
            }

            .badge-mini {
                font-size: 0.65rem;
                padding: 0.35rem 0.65rem;
            }

            .btn-copy-ratio {
                padding: 0.625rem 1rem;
                font-size: 0.8rem;
            }

            .btn-action {
                padding: 0.875rem 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">Contrast Checker</div>
                
                <div class="header-center">
                    <div class="ratio-display">
                        <div>
                            <div class="ratio-label">Contrast Ratio</div>
                            <div class="ratio-value" id="ratio-value">4.50:1</div>
                        </div>
                    </div>
                    
                    <div class="compliance-badges" id="compliance-badges">
                        <div class="badge-mini pass">AA Normal</div>
                        <div class="badge-mini pass">AA Large</div>
                        <div class="badge-mini fail">AAA Normal</div>
                        <div class="badge-mini pass">AAA Large</div>
                    </div>
                </div>

                <div class="shortcuts">
                    <div class="shortcut-badge">
                        <span><kbd class="kbd">Space</kbd> Random</span>
                    </div>
                    <div class="shortcut-badge">
                        <span><kbd class="kbd">S</kbd> Swap</span>
                    </div>
                    <button class="btn-copy-ratio" id="copy-ratio">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                        <span>Copy Ratio</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Color Cards Grid -->
            <div class="cards-grid">
                <!-- Foreground Card -->
                <div class="color-card">
                    <div class="color-display" id="fg-panel">
                        <div class="color-panel-content">
                            <div>
                                <div class="color-label">Foreground / Text</div>
                                <div class="hex-input-wrapper">
                                    <input 
                                        type="text" 
                                        class="hex-input" 
                                        id="fg-hex-input" 
                                        placeholder="#000000"
                                        value="#000000"
                                    />
                                    <div class="hex-hint">Click to edit hex code</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="color-card-content">
                        <div class="color-controls">
                            <div class="control-tabs">
                                <button class="control-tab active" data-tab="fg-rgb-tab">RGB</button>
                                <button class="control-tab" data-tab="fg-hsl-tab">HSL</button>
                            </div>

                            <div id="fg-rgb-tab" class="tab-content active">
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Red</span>
                                        <span id="fg-r-val">0</span>
                                    </div>
                                    <input type="range" id="fg-r" min="0" max="255" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Green</span>
                                        <span id="fg-g-val">0</span>
                                    </div>
                                    <input type="range" id="fg-g" min="0" max="255" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Blue</span>
                                        <span id="fg-b-val">0</span>
                                    </div>
                                    <input type="range" id="fg-b" min="0" max="255" value="0">
                                </div>
                            </div>

                            <div id="fg-hsl-tab" class="tab-content">
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Hue</span>
                                        <span id="fg-h-val">0째</span>
                                    </div>
                                    <input type="range" id="fg-h" min="0" max="360" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Saturation</span>
                                        <span id="fg-s-val">0%</span>
                                    </div>
                                    <input type="range" id="fg-s" min="0" max="100" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Lightness</span>
                                        <span id="fg-l-val">0%</span>
                                    </div>
                                    <input type="range" id="fg-l" min="0" max="100" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="panel-actions">
                            <button class="btn-action" id="fg-random">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"/><path d="m18 2 4 4-4 4"/><path d="M2 6h1.9c1.5 0 2.9.9 3.6 2.2"/><path d="M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"/><path d="m18 14 4 4-4 4"/></svg>
                                <span>Random</span>
                            </button>
                            <button class="btn-action" id="fg-copy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                <span>Copy</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Background Card -->
                <div class="color-card">
                    <div class="color-display" id="bg-panel">
                        <div class="color-panel-content">
                            <div>
                                <div class="color-label">Background</div>
                                <div class="hex-input-wrapper">
                                    <input 
                                        type="text" 
                                        class="hex-input" 
                                        id="bg-hex-input" 
                                        placeholder="#FFFFFF"
                                        value="#FFFFFF"
                                    />
                                    <div class="hex-hint">Click to edit hex code</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="color-card-content">
                        <div class="color-controls">
                            <div class="control-tabs">
                                <button class="control-tab active" data-tab="bg-rgb-tab">RGB</button>
                                <button class="control-tab" data-tab="bg-hsl-tab">HSL</button>
                            </div>

                            <div id="bg-rgb-tab" class="tab-content active">
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Red</span>
                                        <span id="bg-r-val">255</span>
                                    </div>
                                    <input type="range" id="bg-r" min="0" max="255" value="255">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Green</span>
                                        <span id="bg-g-val">255</span>
                                    </div>
                                    <input type="range" id="bg-g" min="0" max="255" value="255">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Blue</span>
                                        <span id="bg-b-val">255</span>
                                    </div>
                                    <input type="range" id="bg-b" min="0" max="255" value="255">
                                </div>
                            </div>

                            <div id="bg-hsl-tab" class="tab-content">
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Hue</span>
                                        <span id="bg-h-val">0째</span>
                                    </div>
                                    <input type="range" id="bg-h" min="0" max="360" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Saturation</span>
                                        <span id="bg-s-val">0%</span>
                                    </div>
                                    <input type="range" id="bg-s" min="0" max="100" value="0">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>Lightness</span>
                                        <span id="bg-l-val">100%</span>
                                    </div>
                                    <input type="range" id="bg-l" min="0" max="100" value="100">
                                </div>
                            </div>
                        </div>

                        <div class="panel-actions">
                            <button class="btn-action" id="bg-random">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"/><path d="m18 2 4 4-4 4"/><path d="M2 6h1.9c1.5 0 2.9.9 3.6 2.2"/><path d="M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"/><path d="m18 14 4 4-4 4"/></svg>
                                <span>Random</span>
                            </button>
                            <button class="btn-action" id="bg-copy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                                <span>Copy</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preview Section -->
            <section class="preview-section">
                <div class="preview-header">
                    <h2 class="preview-title">Live Preview</h2>
                    <div class="preview-actions">
                        <button class="btn-preview-action" id="print-preview">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14"/></svg>
                            <span>Print</span>
                        </button>
                        <button class="btn-preview-action" id="download-preview">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                            <span>Download</span>
                        </button>
                    </div>
                </div>
                <div class="preview-grid">
                    <div class="preview-card" id="preview-1">
                        <div class="preview-text">
                            <h3 class="preview-heading">Heading Example</h3>
                            <p class="preview-body">This is how your text will look with these colors. The quick brown fox jumps over the lazy dog. Testing readability and contrast.</p>
                            <p class="preview-small">Small text example (14px) - WCAG requires 4.5:1 contrast ratio for normal text.</p>
                        </div>
                    </div>
                    <div class="preview-card" id="preview-2">
                        <div class="preview-text">
                            <h3 class="preview-heading">Inverted Example</h3>
                            <p class="preview-body">This shows the inverted color combination. The quick brown fox jumps over the lazy dog. Testing readability and contrast.</p>
                            <p class="preview-small">Small text example (14px) - WCAG requires 3:1 contrast ratio for large text (18px+).</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Copy Feedback -->
    <div class="copy-feedback" id="copy-feedback">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>
        <span>Copied to clipboard!</span>
    </div>

    <script>
        // ===== State =====
        let fgColor = { r: 0, g: 0, b: 0 };
        let bgColor = { r: 255, g: 255, b: 255 };

        // ===== Color Conversion Functions =====
        
        function rgbToHex(r, g, b) {
            return '#' + [r, g, b].map(x => {
                const hex = x.toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            }).join('').toUpperCase();
        }

        function hexToRgb(hex) {
            // Remove # if present
            hex = hex.replace('#', '');
            
            // Validate hex
            if (!/^[0-9A-F]{6}$/i.test(hex)) {
                return null;
            }
            
            const r = parseInt(hex.substring(0, 2), 16);
            const g = parseInt(hex.substring(2, 4), 16);
            const b = parseInt(hex.substring(4, 6), 16);
            
            return { r, g, b };
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        // ===== Contrast Calculation =====
        
        function getLuminance(r, g, b) {
            const [rs, gs, bs] = [r, g, b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
        }

        function getContrastRatio(color1, color2) {
            const lum1 = getLuminance(color1.r, color1.g, color1.b);
            const lum2 = getLuminance(color2.r, color2.g, color2.b);
            const lighter = Math.max(lum1, lum2);
            const darker = Math.min(lum1, lum2);
            return (lighter + 0.05) / (darker + 0.05);
        }

        // ===== Utility Functions =====
        
        function randomColor() {
            return {
                r: Math.floor(Math.random() * 256),
                g: Math.floor(Math.random() * 256),
                b: Math.floor(Math.random() * 256)
            };
        }

        function getTextColor(color) {
            const lum = getLuminance(color.r, color.g, color.b);
            return lum > 0.5 ? '#000000' : '#FFFFFF';
        }

        // ===== Hex Input Validation and Update =====
        
        function updateFromHexInput(inputId, colorObj) {
            const input = document.getElementById(inputId);
            let hex = input.value.trim().toUpperCase();
            
            // Remove # if present (we'll add it back)
            hex = hex.replace('#', '');
            
            // Add # prefix
            hex = '#' + hex;
            
            const rgb = hexToRgb(hex);
            
            if (rgb) {
                // Valid hex
                input.classList.remove('error');
                Object.assign(colorObj, rgb);
                updateUI();
            } else {
                // Invalid hex - restore previous value
                input.classList.add('error');
                setTimeout(() => {
                    input.classList.remove('error');
                    // Restore to current color
                    input.value = rgbToHex(colorObj.r, colorObj.g, colorObj.b);
                }, 300);
            }
        }

        // Handle hex input with auto # prefix
        function handleHexInput(e) {
            const input = e.target;
            let value = input.value;
            
            // Remove any existing # symbols
            value = value.replace(/#/g, '');
            
            // Limit to 6 characters
            if (value.length > 6) {
                value = value.slice(0, 6);
            }
            
            // Update input with # prefix
            input.value = '#' + value.toUpperCase();
        }

        // ===== UI Update Functions =====
        
        function updateUI() {
            // Update foreground
            const fgHex = rgbToHex(fgColor.r, fgColor.g, fgColor.b);
            const fgHsl = rgbToHsl(fgColor.r, fgColor.g, fgColor.b);
            
            document.getElementById('fg-hex-input').value = fgHex;
            document.getElementById('fg-panel').style.backgroundColor = fgHex;
            document.getElementById('fg-panel').style.color = getTextColor(fgColor);
            document.getElementById('fg-hex-input').style.color = getTextColor(fgColor);
            
            // RGB sliders
            document.getElementById('fg-r').value = fgColor.r;
            document.getElementById('fg-g').value = fgColor.g;
            document.getElementById('fg-b').value = fgColor.b;
            document.getElementById('fg-r-val').textContent = fgColor.r;
            document.getElementById('fg-g-val').textContent = fgColor.g;
            document.getElementById('fg-b-val').textContent = fgColor.b;
            
            // HSL sliders
            document.getElementById('fg-h').value = fgHsl.h;
            document.getElementById('fg-s').value = fgHsl.s;
            document.getElementById('fg-l').value = fgHsl.l;
            document.getElementById('fg-h-val').textContent = fgHsl.h + '째';
            document.getElementById('fg-s-val').textContent = fgHsl.s + '%';
            document.getElementById('fg-l-val').textContent = fgHsl.l + '%';

            // Update background
            const bgHex = rgbToHex(bgColor.r, bgColor.g, bgColor.b);
            const bgHsl = rgbToHsl(bgColor.r, bgColor.g, bgColor.b);
            
            document.getElementById('bg-hex-input').value = bgHex;
            document.getElementById('bg-panel').style.backgroundColor = bgHex;
            document.getElementById('bg-panel').style.color = getTextColor(bgColor);
            document.getElementById('bg-hex-input').style.color = getTextColor(bgColor);
            
            // RGB sliders
            document.getElementById('bg-r').value = bgColor.r;
            document.getElementById('bg-g').value = bgColor.g;
            document.getElementById('bg-b').value = bgColor.b;
            document.getElementById('bg-r-val').textContent = bgColor.r;
            document.getElementById('bg-g-val').textContent = bgColor.g;
            document.getElementById('bg-b-val').textContent = bgColor.b;
            
            // HSL sliders
            document.getElementById('bg-h').value = bgHsl.h;
            document.getElementById('bg-s').value = bgHsl.s;
            document.getElementById('bg-l').value = bgHsl.l;
            document.getElementById('bg-h-val').textContent = bgHsl.h + '째';
            document.getElementById('bg-s-val').textContent = bgHsl.s + '%';
            document.getElementById('bg-l-val').textContent = bgHsl.l + '%';

            // Update contrast ratio
            const ratio = getContrastRatio(fgColor, bgColor);
            document.getElementById('ratio-value').textContent = ratio.toFixed(2) + ':1';

            // Update compliance badges
            const aaLarge = ratio >= 3;
            const aaNormal = ratio >= 4.5;
            const aaaLarge = ratio >= 4.5;
            const aaaNormal = ratio >= 7;

            document.getElementById('compliance-badges').innerHTML = `
                <div class="badge-mini ${aaNormal ? 'pass' : 'fail'}">AA Normal</div>
                <div class="badge-mini ${aaLarge ? 'pass' : 'fail'}">AA Large</div>
                <div class="badge-mini ${aaaNormal ? 'pass' : 'fail'}">AAA Normal</div>
                <div class="badge-mini ${aaaLarge ? 'pass' : 'fail'}">AAA Large</div>
            `;

            // Update preview
            const preview1 = document.getElementById('preview-1');
            const preview2 = document.getElementById('preview-2');
            preview1.style.backgroundColor = bgHex;
            preview1.style.color = fgHex;
            preview2.style.backgroundColor = fgHex;
            preview2.style.color = bgHex;
        }

        // ===== Event Listeners =====
        
        // Tab switching
        document.querySelectorAll('.control-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const parent = tab.closest('.color-controls');
                parent.querySelectorAll('.control-tab').forEach(t => t.classList.remove('active'));
                parent.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Hex input listeners
        const fgHexInput = document.getElementById('fg-hex-input');
        const bgHexInput = document.getElementById('bg-hex-input');

        // Auto-add # prefix as user types
        fgHexInput.addEventListener('input', handleHexInput);
        bgHexInput.addEventListener('input', handleHexInput);

        // Validate and update on blur
        fgHexInput.addEventListener('blur', () => {
            updateFromHexInput('fg-hex-input', fgColor);
        });

        bgHexInput.addEventListener('blur', () => {
            updateFromHexInput('bg-hex-input', bgColor);
        });

        // Validate and update on Enter key
        fgHexInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.target.blur(); // Trigger blur to validate
            }
        });

        bgHexInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.target.blur(); // Trigger blur to validate
            }
        });

        // Foreground RGB sliders
        ['r', 'g', 'b'].forEach(channel => {
            document.getElementById(`fg-${channel}`).addEventListener('input', (e) => {
                fgColor[channel] = parseInt(e.target.value);
                updateUI();
            });
        });

        // Foreground HSL sliders
        document.getElementById('fg-h').addEventListener('input', (e) => {
            const h = parseInt(e.target.value);
            const s = parseInt(document.getElementById('fg-s').value);
            const l = parseInt(document.getElementById('fg-l').value);
            fgColor = hslToRgb(h, s, l);
            updateUI();
        });
        document.getElementById('fg-s').addEventListener('input', (e) => {
            const h = parseInt(document.getElementById('fg-h').value);
            const s = parseInt(e.target.value);
            const l = parseInt(document.getElementById('fg-l').value);
            fgColor = hslToRgb(h, s, l);
            updateUI();
        });
        document.getElementById('fg-l').addEventListener('input', (e) => {
            const h = parseInt(document.getElementById('fg-h').value);
            const s = parseInt(document.getElementById('fg-s').value);
            const l = parseInt(e.target.value);
            fgColor = hslToRgb(h, s, l);
            updateUI();
        });

        // Background RGB sliders
        ['r', 'g', 'b'].forEach(channel => {
            document.getElementById(`bg-${channel}`).addEventListener('input', (e) => {
                bgColor[channel] = parseInt(e.target.value);
                updateUI();
            });
        });

        // Background HSL sliders
        document.getElementById('bg-h').addEventListener('input', (e) => {
            const h = parseInt(e.target.value);
            const s = parseInt(document.getElementById('bg-s').value);
            const l = parseInt(document.getElementById('bg-l').value);
            bgColor = hslToRgb(h, s, l);
            updateUI();
        });
        document.getElementById('bg-s').addEventListener('input', (e) => {
            const h = parseInt(document.getElementById('bg-h').value);
            const s = parseInt(e.target.value);
            const l = parseInt(document.getElementById('bg-l').value);
            bgColor = hslToRgb(h, s, l);
            updateUI();
        });
        document.getElementById('bg-l').addEventListener('input', (e) => {
            const h = parseInt(document.getElementById('bg-h').value);
            const s = parseInt(document.getElementById('bg-s').value);
            const l = parseInt(e.target.value);
            bgColor = hslToRgb(h, s, l);
            updateUI();
        });

        // Random buttons
        document.getElementById('fg-random').addEventListener('click', () => {
            fgColor = randomColor();
            updateUI();
        });

        document.getElementById('bg-random').addEventListener('click', () => {
            bgColor = randomColor();
            updateUI();
        });

        // Copy functions
        function showCopyFeedback() {
            const feedback = document.getElementById('copy-feedback');
            feedback.classList.add('show');
            setTimeout(() => feedback.classList.remove('show'), 1500);
        }

        document.getElementById('fg-copy').addEventListener('click', () => {
            navigator.clipboard.writeText(document.getElementById('fg-hex-input').value);
            showCopyFeedback();
        });

        document.getElementById('bg-copy').addEventListener('click', () => {
            navigator.clipboard.writeText(document.getElementById('bg-hex-input').value);
            showCopyFeedback();
        });

        document.getElementById('copy-ratio').addEventListener('click', () => {
            navigator.clipboard.writeText(document.getElementById('ratio-value').textContent);
            showCopyFeedback();
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Spacebar - generate random colors
            if (e.code === 'Space' && !e.target.matches('input')) {
                e.preventDefault();
                fgColor = randomColor();
                bgColor = randomColor();
                updateUI();
            }
            
            // S - swap colors
            if (e.key === 's' || e.key === 'S') {
                if (!e.target.matches('input')) {
                    e.preventDefault();
                    [fgColor, bgColor] = [bgColor, fgColor];
                    updateUI();
                }
            }
        });

        // Print preview
        document.getElementById('print-preview').addEventListener('click', () => {
            window.print();
        });

        // Download preview as HTML
        document.getElementById('download-preview').addEventListener('click', () => {
            const fgHex = rgbToHex(fgColor.r, fgColor.g, fgColor.b);
            const bgHex = rgbToHex(bgColor.r, bgColor.g, bgColor.b);
            const ratio = getContrastRatio(fgColor, bgColor);
            
            const html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Contrast Preview - ${fgHex} on ${bgHex}</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            padding: 2rem;
            background: #fafafa;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #e5e5e5;
        }
        .header h1 {
            font-size: 1.5rem;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }
        .ratio {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .colors {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 1rem 0;
            font-size: 0.9rem;
            color: #666;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .card {
            border-radius: 12px;
            padding: 2.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .card h2 {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.3;
        }
        .card p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        .card .small {
            font-size: 0.875rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Color Contrast Preview</h1>
        <div class="ratio">${ratio.toFixed(2)}:1</div>
        <div class="colors">
            <span>Foreground: ${fgHex}</span>
            <span></span>
            <span>Background: ${bgHex}</span>
        </div>
    </div>
    <div class="grid">
        <div class="card" style="background: ${bgHex}; color: ${fgHex};">
            <h2>Heading Example</h2>
            <p>This is how your text will look with these colors. The quick brown fox jumps over the lazy dog. Testing readability and contrast.</p>
            <p class="small">Small text example (14px) - WCAG requires 4.5:1 contrast ratio for normal text.</p>
        </div>
        <div class="card" style="background: ${fgHex}; color: ${bgHex};">
            <h2>Inverted Example</h2>
            <p>This shows the inverted color combination. The quick brown fox jumps over the lazy dog. Testing readability and contrast.</p>
            <p class="small">Small text example (14px) - WCAG requires 3:1 contrast ratio for large text (18px+).</p>
        </div>
    </div>
</body>
</html>`;

            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `contrast-preview-${fgHex.replace('#', '')}-${bgHex.replace('#', '')}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showCopyFeedback();
        });

        // Initialize
        updateUI();
    </script>
</body>
</html>
